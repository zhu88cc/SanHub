version: '3.8'

services:
  sanhub:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: sanhub
    restart: unless-stopped
    ports:
      - "3000:3000"
    environment:
      - NODE_ENV=production
      # NEXTAUTH_SECRET 和 NEXTAUTH_URL 会自动生成，无需手动配置
      # 如需自定义，取消注释以下行：
      # - NEXTAUTH_URL=https://your-domain.com
      # - NEXTAUTH_SECRET=your-secret-key-here
      
      # 管理员账号（首次启动自动创建，可在管理后台修改密码）
      # 默认: admin@sanhub.local / sanhub123
      # - ADMIN_EMAIL=admin@example.com
      # - ADMIN_PASSWORD=your-password
      
      # API Keys（可选，也可在管理后台 /admin/api 配置）
      # - SORA_API_KEY=
      # - GEMINI_API_KEY=
      # - ZIMAGE_API_KEY=
      # - GITEE_API_KEY=
    volumes:
      - sanhub_data:/app/data

volumes:
  sanhub_data:
